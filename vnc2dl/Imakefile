
#ifdef SunArchitecture
EXTRA_DEFINES = -D__EXTENSIONS__
#endif

XCOMM Shared memory support works OK on x86 linux, not tested elsewhere but
XCOMM seems to cause problems on Digital Unix.

#if defined(i386Architecture) && defined(LinuxArchitecture)
DEFINES = -DMITSHM
#endif

ZLIB_INC = -I/usr/local/include
JPEG_INC = -I/usr/local/include
INCLUDES = -I../include -I. -I../libdlo/src $(ZLIB_INC) $(JPEG_INC) -I/usr/include
VNCAUTH_LIB = ../libvncauth/libvncauth.a
USB_LIB = -lusb
DL_LIB = ../libdlo/src/.libs/libdlo.a
ZLIB_LIB = -L/usr/local/lib -lz
CDEBUGFLAGS=-g
#ifdef OSF1Architecture
XCOMM Avoid linking with different libjpeg in /usr/shlib under Tru64.
JPEG_LIB = /usr/local/lib/libjpeg.a
#else
JPEG_LIB = -L/usr/local/lib -ljpeg
#endif

DEPLIBS = $(DL_LIB) $(VNCAUTH_LIB)
LOCAL_LIBRARIES = $(DL_LIB) $(VNCAUTH_LIB) $(ZLIB_LIB) $(JPEG_LIB) $(USB_LIB)

SRCS = \
  args.c \
  caps.c \
  dldevice.c \
  listen.c \
  rfbproto.c \
  sockets.c \
  tunnel.c \
  vnc2dl.c

OBJS = $(SRCS:.c=.o)

ComplexProgramTarget(vnc2dl)
